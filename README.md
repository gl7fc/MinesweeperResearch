# Minesweeper Difficulty Analyzer

マインスイーパのパズル生成、および各セルの「論理的な難易度」を定量的に解析するJava製ツールです。
Knuth's Algorithm X (Dancing Links) を用いた制約充足ソルバをバックエンドに使用し、パズルが論理的に解けるかどうか、また解くためにどれほどの思考コストが必要かを判定します。

## 概要

このプロジェクトは、マインスイーパの盤面において、各空白セルを論理的に確定させるために必要な「ヒントの数（思考コスト $k$）」を算出します。

- -1-1パズル生成-1-1: 指定されたサイズと地雷数でランダムな盤面を生成します。
- -1-1ヒント最小化-1-1: 正解が一意に定まる範囲で、可能な限りヒントを隠した「問題盤面」を作成します。
- -1-1難易度解析-1-1: 各セルを開くために、最低いくつのヒントを同時に参照する必要があるか（$k$）を計算し、ヒートマップとして出力します。

## 解析アルゴリズムの概念 ($k$-Hint Difficulty)

本ツールでは、難易度を以下のように定義しています。

- -1-1$k=1$-1-1: 単独のヒント数字と周囲の状況だけで解ける（基本的な手筋）。
- -1-1$k \ge 2$-1-1: 複数のヒントを組み合わせて連立方程式のように考えないと解けない（高度な手筋）。
- -1-1Unknown (-1)-1-1: 現在の論理探索範囲では確定できない、または運が必要なセル。

解析器は $k=1$ から順に探索範囲を広げ、各セルがどの段階で確定するかを特定します。詳細は [HintCountCalculator.md](HintCountCalculator.md) を参照してください。

## 構成ファイル

主なクラスとその役割は以下の通りです。

- -1-1`src/Main.java`-1-1: エントリーポイント。パズルの生成から解析、結果の表示までを一括で行います。
- -1-1`src/HintCountCalculator.java`-1-1: 難易度解析のコアロジック。$k$ 個のヒントの組み合わせを全探索し、Dancing Linksを用いて確定情報を導出します。
- -1-1`src/PuzzleGenerator.java`-1-1: ランダムなマインスイーパ盤面を生成します。
- -1-1`src/PuzzleMinimizer.java`-1-1: 生成された盤面から不要なヒントを削除し、一意解を持つパズルを作成します。
- -1-1`src/ConstraintBuilder.java`-1-1: 盤面の状態をDancing Links用の制約行列（Exact Cover Problem形式）に変換します。
- -1-1`src/DancingLinks.java`-1-1: アルゴリズムXの実装。制約を満たす解を高速に探索します。